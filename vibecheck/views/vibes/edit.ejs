<!-- Board creation page -->
<!-- Page cannot be accessed without being logged in -->
<%- include('../partials/header') %>
<main>

<script src="/javascripts/resizeDrag.js" defer></script>
<script src="/javascripts/canvasEdit.js" defer></script>

<div class="canvas-box">
    <div class="namebox">
<form onkeydown="return event.key != 'Enter';">
    <input type="text" id="vibename" maxlength="100" value="<%= vibe.name %>">
    <button id="vibename-submit" type="button">Update name</button>
</form>
<h1 id="template-title"><%= vibe.name %></h1>
<h1 id="vibename-h1"></h1>
</div>

<div class="buttons">
<button id="image">Image</button>
<button id="text">Text</button>
<button id="link">Link</button>
<button id="toggle-headers">Toggle headers</button>
<button id="update">UPDATE</button>
</div>

<div id="canvas">
    <% for (let item of vibe.items) { %>
        <%- item.content %>
    <% } %>
    </div>
</div>

<div id="image-popup">
    Provide url of image to be added
    <div id="add-url" input type="text" contenteditable="true"></div>
    <button id="cancel-image">Cancel</button>
    <button id="submit-image">Add</button>
</div>

<div id="link-popup">
    Provide url of link to be added
    <div id="add-link" input type="text" contenteditable="true"></div>
    (optional) provide text to display
    <div id="link-text" input type="text" contenteditable="true"></div>
    <button id="cancel-link">Cancel</button>
    <button id="submit-link">Add</button>
</div>

<%- include('../partials/footer') %>